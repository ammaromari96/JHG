
@section Styles {
    <link rel="stylesheet" href="~/css/ForgetPassword.css" />
}

@section Scripts {
    @* <script src="~/js/ForgetPassword.js"></script> *@
}




<div class="auth-container">
    <!-- Step Indicator -->
    <div class="step-indicator">
        <div class="step active" id="step1-indicator">
            <div class="step-number">1</div>
            <div class="step-label">Enter Email</div>
        </div>
        <div class="step" id="step2-indicator">
            <div class="step-number">2</div>
            <div class="step-label">Enter OTP</div>
        </div>
        <div class="step" id="step3-indicator">
            <div class="step-number">3</div>
            <div class="step-label">New Password</div>
        </div>
    </div>

    <!-- Error Message -->
    <div id="error-message" class="alert alert-danger hidden">
        Error message goes here
    </div>

    <!-- Step 1: Email Input -->
    <div id="step1">
        <div class="auth-header">
            <h2>Forgot Password?</h2>
            <p>Enter your email address to receive a verification code</p>
        </div>

        <form id="email-form">
            <div class="mb-4">
                <label for="email" class="form-label">Email address</label>
                <input type="email" class="form-control" id="email" required>
                <div class="invalid-feedback" id="email-error">
                    Please enter a valid email address
                </div>
            </div>
            <button type="submit" class="btn btn-primary w-100" id="send-code-btn">
                Send Verification Code
            </button>
        </form>

        <div class="text-center mt-4">
            <a href="/login" class="text-decoration-none">Back to Login</a>
        </div>
    </div>

    <!-- Step 2: OTP Verification -->
    <div id="step2" class="hidden">
        <div class="auth-header">
            <h2>Enter OTP Code</h2>
            <p>We've sent a 6-digit verification code to your email</p>
        </div>

        <form id="otp-form">
            <div class="mb-4">
                <label for="otp" class="form-label">Verification Code</label>
                <input type="text" class="form-control otp-input" id="otp" maxlength="6" required>
                <div class="invalid-feedback" id="otp-error">
                    Please enter the 6-digit code
                </div>
                <div class="resend-code">
                    <a href="#" id="resend-code-link">Resend Code</a>
                </div>
            </div>
            <button type="submit" class="btn btn-primary w-100" id="verify-btn">
                Verify Code
            </button>
        </form>
    </div>

    <!-- Step 3: New Password -->
    <div id="step3" class="hidden">
        <div class="auth-header">
            <h2>Create New Password</h2>
            <p>Your new password must be different from previous passwords</p>
        </div>

        <form id="password-form">
            <div class="mb-4">
                <label for="newPassword" class="form-label">New Password</label>
                <input type="password" class="form-control" id="newPassword" required minlength="8">
                <div class="invalid-feedback" id="password-error">
                    Password must be at least 8 characters
                </div>
            </div>
            <div class="mb-4">
                <label for="confirmPassword" class="form-label">Confirm Password</label>
                <input type="password" class="form-control" id="confirmPassword" required>
                <div class="invalid-feedback" id="confirm-error">
                    Passwords do not match
                </div>
            </div>
            <button type="submit" class="btn btn-primary w-100" id="reset-btn">
                Reset Password
            </button>
        </form>
    </div>

    <!-- Success Message -->
    <div id="step4" class="hidden success-message">
        <i class="bi bi-check-circle-fill"></i>
        <h2>Password Reset Successful!</h2>
        <p>Your password has been successfully reset.</p>
        <button id="back-to-login" class="btn btn-primary mt-4 px-5">Back to Login</button>
    </div>
</div>